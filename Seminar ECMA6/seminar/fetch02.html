<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ECMA 6: fetch-API</title>
    <script>
        let myFetch1 = fetch('data/santa.json').then(response => response.json());
        console.log(myFetch1);
        let myFetch2 = fetch('data/karl.json').then(response => response.json());
        console.log(myFetch2);
        let myFetch3 = fetch('data/frida.json').then(response => response.json());
        console.log(myFetch3);

        console.log(Promise.all([42, 17])
            .then(response => console.log(response)));
        // (2) [42, 17]

        console.log(Promise.all([myFetch1, myFetch2, myFetch3])
            .then(response => console.log(response)));
        // [{…}, {…}, {…}]
        // 0: {vorname: "Santa", nachname: "Claus"}
        // 1: {vorname: "Karl", nachname: "Karpfen"}
        // 2: {vorname: "Frida", nachname: "Forelle"}

        Promise.all([myFetch1, myFetch2, myFetch3])
            .then(([santa, karl, frida]) => {
                console.log('Santa:', santa);
                console.log('Karl:', karl);
                console.log('Frida:', frida);
                return {
                    personen: [santa.vorname, karl.vorname, frida.vorname]
                }
            }).then(personen => console.log(personen));
        // Santa: {vorname: "Santa", nachname: "Claus"}
        // Karl: {vorname: "Karl", nachname: "Karpfen"}
        // Frida: {vorname: "Frida", nachname: "Forelle"}
        // personen: (3) ["Santa", "Karl", "Frida"]
    </script>
</head>

<body>
    <h1>Fetch ... etc.</h1>
</body>

</html>